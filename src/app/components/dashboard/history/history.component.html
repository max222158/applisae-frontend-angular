<div class="container">
    <h2>Suivez les activités des utilisateurs dans le système</h2>

    <div class="row">
    <div class="mb-3 col-md-3">
        <label class="col-md-12 col-form-label">Filtrer par type</label>
        <div class="col-md-12">
            <select  class="form-select" [(ngModel)]="filterBy"
                placeholder="Sélectionner un modèle">
                <option value="">-- Selectionner --</option>
                <option value="départ">Dans courrier</option>
                <option value="arrivé">Dans le fonds documentaire</option>
                <option value="interne">Qui s'est connecté?</option>
                <option value="ged">Document GED</option>
            </select>

        </div>
    </div>
    <div class="mb-3 col-md-3">
        <label class="col-md-12 col-form-label">Filtrer par utilisateur</label>
        <div class="col-md-12">
            <select  class="form-select" 
                placeholder="Sélectionner un modèle">
                <option value="">-- Selectionner --</option>
                <option value="départ">Dans courrier</option>
                <option value="arrivé">Dans le fonds documentaire</option>
                <option value="interne">Dans workflow</option>
                <option value="ged">Document GED</option>
            </select>

        </div>
    </div>
    </div>
    <div class="table-responsive">
        <table class="table align-middle mb-0 bg-white">

          <tbody>
            <tr *ngFor="let history of histories |
            paginate: { itemsPerPage: perPage, currentPage: page,totalItems: totalItems  }">
              <td>
                <div class="ms-3">
                  <p class=" mb-1"><i  class="fa-clock-rotate-left fa-solid text-warning"></i> <span class="fw-bold text-success"> {{history.user.name}}</span>  {{history.text}}</p>

                </div>
              </td>

    
              <td>
                {{history.created_at | customDateFormat}}
              </td>
            </tr>
          </tbody>
        </table>
        <div class="row">
          <div class="col-5">
               Total: {{totalItems}} résultats
          </div>
          <div class="col-5">
              <pagination-controls 
              (pageChange)="pageChanged($event)"
              previousLabel="Précédent"
              nextLabel="Suivant"

              
              ></pagination-controls>
          </div>
      </div>
      </div>
</div>
